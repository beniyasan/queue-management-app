# Code Structure

- `public/`
  - `index.html`: main UI + all app logic (HTML/CSS/JS + Supabase client, SortableJS). Reads `window.APP_CONFIG`.
  - `config.js`: generated by `npm run build`; defines `window.APP_CONFIG` with Supabase URL/key.
- `build.js`: Node script to generate `config.js` and also embed env directly into `index.html` as a backup `<script id="env-config">`.
- `supabase/functions/cleanup-sessions/`
  - `index.ts`: Deno (Supabase Edge Functions). Calls SQL RPCs `cleanup_old_sessions` and `cleanup_old_logs` with service key.
  - `cron.yaml`: reference schedule (daily 02:00 UTC) and retry policy for dashboard config.
- `database/`
  - `cleanup_old_sessions.sql`: SQL to create functions and tables for cleaning old sessions/users/logs, and columns for approval workflow.
- Root files
  - `package.json`: scripts (`dev`, `build`, `start`), metadata
  - `vercel.json`: build command and output directory
  - `README.md`: setup, features, deploy steps; env vars
  - Additional docs: `SETUP_CLEANUP.md`, `QUICK_SETUP_CLEANUP.md`, `ARTICLE.md`, `BLOG_ARTICLE.md`, `pjmake.md`
